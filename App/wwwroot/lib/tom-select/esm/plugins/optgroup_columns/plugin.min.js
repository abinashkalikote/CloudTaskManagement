const KEY_LEFT=37,KEY_RIGHT=39,accent_pat="[̀-ͯ·ʾʼ]",latin_convert={},latin_condensed={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let a in latin_condensed){let t=latin_condensed[a]||"";for(let n=0;n<t.length;n++){let e=t.substring(n,n+1);latin_convert[e]=a}}new RegExp(Object.keys(latin_convert).join("|")+"|"+accent_pat,"gu");const parentMatch=(e,n,t)=>{if(!t||t.contains(e))for(;e&&e.matches;){if(e.matches(n))return e;e=e.parentNode}},nodeIndex=(e,n)=>{if(!e)return-1;n=n||e.nodeName;for(var t=0;e=e.previousElementSibling;)e.matches(n)&&t++;return t};function plugin(){var a=this,o=a.onKeyDown;a.hook("instead","onKeyDown",e=>{var n,t;if(!a.isOpen||e.keyCode!==KEY_LEFT&&e.keyCode!==KEY_RIGHT)return o.call(a,e);a.ignoreHover=!0,t=parentMatch(a.activeOption,"[data-group]"),n=nodeIndex(a.activeOption,"[data-selectable]"),(t=t&&(e.keyCode===KEY_LEFT?t.previousSibling:t.nextSibling))&&(t=(e=t.querySelectorAll("[data-selectable]"))[Math.min(e.length-1,n)])&&a.setActiveOption(t)})}export{plugin as default};