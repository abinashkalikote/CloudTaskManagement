!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).checkbox_options=t()}(this,function(){"use strict";const i=e=>"boolean"==typeof e?e?"1":"0":e+"",l=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())};const s={};var n,e={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(n in e){let t=e[n]||"";for(let e=0;e<t.length;e++){var c=t.substring(e,e+1);s[c]=n}}new RegExp(Object.keys(s).join("|")+"|[̀-ͯ·ʾʼ]","gu");const d=e=>"string"==typeof e&&-1<e.indexOf("<");return function(e){var c=this,s=c.onOptionSelect;c.settings.hideSelected=!1;const o=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},e);function n(t){setTimeout(()=>{var e=t.querySelector("input."+o.className);e instanceof HTMLInputElement&&a(e,t.classList.contains("selected"))},1)}var a=function(e,t){t?(e.checked=!0,o.uncheckedClassNames&&e.classList.remove(...o.uncheckedClassNames),o.checkedClassNames&&e.classList.add(...o.checkedClassNames)):(e.checked=!1,o.checkedClassNames&&e.classList.remove(...o.checkedClassNames),o.uncheckedClassNames&&e.classList.add(...o.uncheckedClassNames))};c.hook("after","setupTemplates",()=>{var n=c.settings.render.option;c.settings.render.option=(e,t)=>{var s=(t=n.call(c,e,t)).jquery?t[0]:t instanceof HTMLElement?t:d(t)?((s=document.createElement("template")).innerHTML=t.trim(),s.content.firstChild):document.querySelector(t),t=document.createElement("input"),e=(o.className&&t.classList.add(o.className),t.addEventListener("click",function(e){l(e)}),t.type="checkbox",null==(e=e[c.settings.valueField])?null:i(e));return a(t,!!(e&&-1<c.items.indexOf(e))),s.prepend(t),s}}),c.on("item_remove",e=>{e=c.getOption(e);e&&(e.classList.remove("selected"),n(e))}),c.on("item_add",e=>{e=c.getOption(e);e&&n(e)}),c.hook("instead","onOptionSelect",(e,t)=>{if(t.classList.contains("selected"))return t.classList.remove("selected"),c.removeItem(t.dataset.value),c.refreshOptions(),void l(e,!0);s.call(c,e,t),n(t)})}});