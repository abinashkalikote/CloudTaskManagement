!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).optgroup_columns=t()}(this,function(){"use strict";const o={};var n,e={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(n in e){let t=e[n]||"";for(let e=0;e<t.length;e++){var i=t.substring(e,e+1);o[i]=n}}new RegExp(Object.keys(o).join("|")+"|[̀-ͯ·ʾʼ]","gu");return function(){var n=this,i=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var t,o;if(!n.isOpen||37!==e.keyCode&&39!==e.keyCode)return i.call(n,e);n.ignoreHover=!0,o=((e,t,o)=>{if(!o||o.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}})(n.activeOption,"[data-group]"),t=((e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var o=0;e=e.previousElementSibling;)e.matches(t)&&o++;return o})(n.activeOption,"[data-selectable]"),(o=o&&(37===e.keyCode?o.previousSibling:o.nextSibling))&&(o=(e=o.querySelectorAll("[data-selectable]"))[Math.min(e.length-1,t)])&&n.setActiveOption(o)})}});